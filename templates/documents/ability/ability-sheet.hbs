<form>
    <div class='header'>
        <div class='ability-img'>
            <img src='{{item.img}}' data-tooltip='{{item.name}}' data-edit='img' />
        </div>
        <div class='ability-name'>
            {{formInput item.schema.fields.name value=item.name}}
        </div>
    </div>

    {{! Hide Keywords for passive types }}
    {{#unless (eq type 'passive')}}
        <fieldset>
            <legend>Keywords</legend>
                {{formField fields.keywords value=source.system.keywords classes='abilty-keywords'}}
            </div>
        </fieldset>
    {{/unless}}

    <fieldset class="ability-properties">
        <legend>Properties</legend>
        {{formField fields.type value=source.system.type classes='abilty-type' localize=true labelAttr="label"}}

        {{! Hide time for passive types }}
        {{#unless (eq type 'passive')}}
            {{formField fields.time value=source.system.time classes='abilty-time' localize=true labelAttr="label"}}
        {{/unless}}
        {{! Show Cost for heroic types }}
        {{#if (eq type 'heroic')}}
            {{formField fields.cost value=source.system.cost classes='abilty-cost' localize=true}}
        {{/if}}

        {{! Show Trigger for trigger types }}
        {{#if (eq type 'triggered')}}
            {{formField fields.trigger value=source.system.trigger classes='abilty-trigger' localize=true}}
        {{/if}}

        

        {{! Hide distance for passive and trigger types }}
        {{#unless (or (eq type 'passive') (eq type 'triggered'))}}
            {{formField fields.distance value=source.system.distance classes='abilty-distance' localize=true}}
        {{/unless}}

        {{! Hide targets for passive and triggered types }}
        {{#unless (or (eq type 'passive') (eq type 'triggered'))}}
            {{formField fields.target value=source.system.target classes='abilty-target' localize=true}}
        {{/unless}}
    </fieldset>
    <fieldset class="ability-damage">
        <legend>Damage</legend>
        {{formField fields.damage.fields.doesDamage value=source.system.damage.doesDamage localize=true classes="damage-applies"}}
        
        {{#if source.system.damage.doesDamage}}
            {{formField fields.damage.fields.baseFormula value=source.system.damage.baseFormula localize=true classes="base-damage"}}
            {{formField fields.damage.fields.characteristic value=source.system.damage.characteristic localize=true classes="damage-characteristic"}}
            {{formField fields.damage.fields.applyExtraDamage value=source.system.damage.applyExtraDamage localize=true classes="damage-extra"}}
            {{formField fields.damage.fields.boons value=source.system.damage.boons localize=true classes="damage-boons"}}
            {{formField fields.damage.fields.banes value=source.system.damage.banes localize=true classes="damage-banes"}}
            {{formField fields.damage.fields.impacts value=source.system.damage.impacts localize=true classes="damage-impacts"}}
            {{formField fields.damage.fields.type value=source.system.damage.type localize=true classes="damage-type" labelAttr="label"}}
        {{/if}}
    </fieldset>
    <fieldset>
        <legend>Effect</legend>
        {{formInput fields.effect value=source.system.effect classes='abilty-effect' localize=true}}
    </fieldset>
</form>