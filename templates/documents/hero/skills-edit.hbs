<div class='skills edit'>
    {{#each source.system.skills as |skills|}}
        {{#with @key as |category|}}
            <div class='category category-{{category}}'>
                <div class='header'>
                    {{localize (concat 'system.skills.' category '.label')}}
                </div>
                <div class='skill labels'>
                    <div class='skill-characteristic'>{{localize 'system.characteristics.label'}}</div>
                    <div class='skill-name'>{{localize 'system.skills.label.singular'}}</div>
                    <div class='skill-proficiency'>{{localize 'system.sheets.actor.skills.proficient'}}</div>
                    <div>{{localize 'system.sheets.actor.skills.display'}}</div>
                </div>
                {{#each skills as |skill|}}
                    <div>
                        <div class='skill-characteristic'>
                            <select name='system.skills.{{category}}.{{@key}}.characteristic'>
                                {{selectOptions @root.constants.characteristics selected=skill.characteristic labelAttr='abbreviation' localize=true}}
                            </select>
                        </div>
                        <div class='skill-name'>
                            {{localize (getSkillLabelPath category @key)}}
                        </div>
                        <div class='skill-proficiency'>
                            <div class='skill-proficiency'>
                                <input type='checkbox' name='system.skills.{{category}}.{{@key}}.proficient' {{checked skill.proficient}} />
                            </div>
                        </div>
                        <div class='skill-display'>
                            <input type='checkbox' name='system.skills.{{category}}.{{@key}}.display' {{checked skill.display}} />
                        </div>
                    </div>
                {{/each}}
            </div>
        {{/with}}
    {{/each}}
</div>