<div class='dice-adjustments roll-dialog-section'>
    <div class='dice-adjustment general-adjustments'>
        <div class='header'>General Dice Adjustments</div>
        <div class='edges-banes'>
            <div class='edges'>
                <div>Edges</div>
                <div>
                    <div class='adjust-dice subtract-dice' data-type='edges' data-adjustment='decrease' data-action='adjustDice'>
                        <i class='fa-solid fa-minus'></i>
                    </div>
                    <div>{{generalAdjustments.edges}} <i class='fa-regular fa-dice-d4'></i></div>
                    <div class='adjust-dice add-dice' data-type='edges' data-adjustment='increase' data-action='adjustDice'>
                        <i class='fa-solid fa-plus'></i>
                    </div>
                </div>
            </div>
            <div class='banes'>
                <div>Banes</div>
                <div>
                    <div class='adjust-dice subtract-dice' data-type='banes' data-adjustment='decrease' data-action='adjustDice'>
                        <i class='fa-solid fa-minus'></i>
                    </div>
                    <div>{{generalAdjustments.banes}} <i class='fa-regular fa-dice-d4'></i></div>
                    <div class='adjust-dice add-dice' data-type='banes' data-adjustment='increase' data-action='adjustDice'>
                        <i class='fa-solid fa-plus'></i>
                    </div>
                </div>
            </div>
        </div>
    </div>

    {{#each targets as |target|}}<div class='dice-adjustment target-adjustments'>
            <div class='header'>{{target.tokenActor.name}}</div>
            <div class='edges-banes'>
                <div class='edges'>
                    <div>Edges</div>
                    <div>
                        <div
                            class='adjust-dice subtract-dice'
                            data-token-target='{{@key}}'
                            data-type='edges'
                            data-adjustment='decrease'
                            data-action='adjustDice'
                        >
                            <i class='fa-solid fa-minus'></i>
                        </div>
                        <div>{{target.edges}} <i class='fa-regular fa-dice-d4'></i></div>
                        <div class='adjust-dice add-dice' data-token-target='{{@key}}' data-type='edges' data-adjustment='increase' data-action='adjustDice'>
                            <i class='fa-solid fa-plus'></i>
                        </div>
                    </div>
                </div>
                <div class='banes'>
                    <div>Banes</div>
                    <div>
                        <div
                            class='adjust-dice subtract-dice'
                            data-token-target='{{@key}}'
                            data-type='banes'
                            data-adjustment='decrease'
                            data-action='adjustDice'
                        >
                            <i class='fa-solid fa-minus'></i>
                        </div>
                        <div>
                            {{target.banes}}
                            <i class='fa-regular fa-dice-d4'></i>
                        </div>
                        <div class='adjust-dice add-dice' data-token-target='{{@key}}' data-type='banes' data-adjustment='increase' data-action='adjustDice'>
                            <i class='fa-solid fa-plus'></i>
                        </div>
                    </div>
                </div>
            </div>
            <div class='roll-button roll-dialog-section'>
                <button
                    class='roll-button{{ifThen target.rolled " rolled" ""}}'
                    data-token-target='{{@key}}'
                    data-formula='{{formula}}'
                    data-action='roll'
                    {{ifThen target.rolled 'disabled' ''}}
                >{{formula}}</button>
            </div>
        </div>
    {{/each}}
</div>